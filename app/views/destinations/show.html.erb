<div id="destination-show-page">
  <div class="destination-show-page-top">
    <h1><%= @destination.name %></h1>
    <h3>View and manage your tasks for <%= @destination.name %> </h3>
  </div>
  <div class="destination-show-page-left">
    <h2>Your tasks</h2>
    <div class="tasks">
    <% if @destination.tasks.size == 0  %>
      <p>It looks like you have no tasks yet! Click on add task to plan your journey!</p>
    <% else %>
      <% @tasks.each do |task| %>
      <div class="task">
        <div class="task-info">
          <h3><%=task.title%></h1>
          <p><%=task.notes%></p>
        </div>
        <div class="task-actions">
          <%= link_to edit_destination_task_path(@destination, task) do %><i class="fa-solid fa-square-pen"></i><% end %>
        </div>
      </div>
      <% end %>
    <% end %>
    </div>
  </div>
  <div class="destination-show-page-right">
    <div class="map" style="width: 100%; height: 100%;"
      data-controller="mapbox"
      data-mapbox-markers-value="<%= @markers.to_json %>"
      data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>

  <div class="destination-show-page-bottom">
    <button class="btn-navigate">
      <%= link_to "Add a new task", new_destination_task_path(@destination) %>
    </button>
    <button class="btn-navigate">
      <%= link_to "Edit destination", edit_destination_path(@destination) %>
    </button>
    <button class="btn-navigate">
      <%= link_to "Return to dashboard", authenticated_root_path %>
    </button>
  </div>
</div>
